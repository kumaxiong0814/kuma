/**
     * 处理固定长度文件
     */
    public static void processFixedLengthFile(File inputFile, String outputFile, String[][] fieldDefinitions) throws IOException {
        try (BufferedReader reader = new BufferedReader(new FileReader(inputFile));
             BufferedWriter writer = new BufferedWriter(new FileWriter(outputFile))) {

            // 写入 CSV 表头
            List<String> headers = new ArrayList<>();
            for (String[] field : fieldDefinitions) {
                headers.add(field[0]);
            }
            writer.write(String.join(",", headers));
            writer.newLine();

            // 逐行解析并写入
            String line;
            while ((line = reader.readLine()) != null) {
                List<String> values = new ArrayList<>();
                int start = 0;

                for (String[] field : fieldDefinitions) {
                    int length = Integer.parseInt(field[1]);
                    String value = line.substring(start, Math.min(start + length, line.length())).trim();
                    values.add(value);
                    start += length;
                }

                writer.write(String.join(",", values));
                writer.newLine();
            }
        }
    }

    /**
     * 处理可变长度文件
     */
    public static void processVariableLengthFile(File inputFile, String outputFile, String[][] fieldDefinitions) throws IOException {
        try (BufferedReader reader = new BufferedReader(new FileReader(inputFile));
             BufferedWriter writer = new BufferedWriter(new FileWriter(outputFile))) {

            // 写入 CSV 表头
            List<String> headers = new ArrayList<>();
            for (String[] field : fieldDefinitions) {
                headers.add(field[0]);
            }
            headers.add("Empty_Check");
            writer.write(String.join(",", headers));
            writer.newLine();

            // 逐行解析并写入
            String line;
            
            while ((line = reader.readLine()) != null) {
                String[] fields = line.split("\\|");
                writer.write(String.join(",", fields));
                writer.newLine();
            }
        }
    }
